<!DOCTYPE html>
<html>
    <head>
        <title>FAQ(English) : How to set up and execute altimon</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">FAQ(English)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_6979649.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="08.-Monitoring_16876197.html">08. Monitoring</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            FAQ(English) : How to set up and execute altimon
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> richard.nahm	</span>, last modified on Apr 05, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1624409147269 {padding: 0px;}
div.rbtoc1624409147269 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1624409147269 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1624409147269'>
<ul class='toc-indentation'>
<li><a href='#Howtosetupandexecutealtimon-WhatisALTIMON?'>What is ALTIMON?</a></li>
<li><a href='#Howtosetupandexecutealtimon-ALTIMONexecutionandconfigurationfiles'>ALTIMON execution and configuration files</a>
<ul class='toc-indentation'>
<li><a href='#Howtosetupandexecutealtimon-ALTIMONexecutionfile'>ALTIMON execution file</a></li>
<li><a href='#Howtosetupandexecutealtimon-ALTIMONinstallationfile'>ALTIMON installation file</a></li>
<li><a href='#Howtosetupandexecutealtimon-ALTIMONconfigurationfile'>ALTIMON configuration file</a></li>
</ul>
</li>
<li><a href='#Howtosetupandexecutealtimon-UploadingALTIMONfile'>Uploading ALTIMON file</a></li>
<li><a href='#Howtosetupandexecutealtimon-CopyingALTIMONexecutionfile'>Copying ALTIMON execution file</a></li>
<li><a href='#Howtosetupandexecutealtimon-ThingstobechangedintheALTIMONconfigurationfile'>Things to be changed in the ALTIMON configuration file</a></li>
<li><a href='#Howtosetupandexecutealtimon-ExecutingALTIMON'>Executing ALTIMON</a></li>
<li><a href='#Howtosetupandexecutealtimon-CheckAltibaseLog'>Check Altibase Log</a></li>
</ul>
</div></p><p> </p><h1 id="Howtosetupandexecutealtimon-WhatisALTIMON?">What is ALTIMON?</h1><hr /><p>ALTIMON is a monitoring program that periodically checks the operating status of the ALTIBASE HDB server, and helps to track the cause of the failure by checking the ALTIBASE HDB server status when a failure occurs.</p><p>This page briefly explains how to set up and run ALTIMON.</p><p>For more details regarding ALTIMON, please refer to ALTIMON USER GUIDE.</p><p> </p><p>ALTIMON USER GUIDE</p><hr /><ul><li>TBA</li></ul><h1 id="Howtosetupandexecutealtimon-ALTIMONexecutionandconfigurationfiles">ALTIMON execution and configuration files</h1><hr /><h3 id="Howtosetupandexecutealtimon-ALTIMONexecutionfile">ALTIMON execution file</h3><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh"> </th><th style="text-align: center;" class="confluenceTh">Linux</th><th style="text-align: center;" class="confluenceTh">SunOS Sparc</th><th style="text-align: center;" class="confluenceTh">SunOS x86</th><th colspan="1" style="text-align: center;" class="confluenceTh">HP-UX IA</th><th colspan="1" style="text-align: center;" class="confluenceTh">AIX</th></tr><tr style="margin-left: 30.0px;"><th class="confluenceTh">Altibase 6.3.1</th><td class="confluenceTd"><a href="https://docs.altibase.com/download/attachments/6979592/altimon_linux_631.tar?version=4&amp;modificationDate=1606700918000&amp;api=v2">altimon_linux_631.tar</a></td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr style="margin-left: 30.0px;"><th class="confluenceTh">Altibase 6.1.1</th><td class="confluenceTd"><a href="https://docs.altibase.com/download/attachments/6979592/altimon_linux_611.tar?version=3&amp;modificationDate=1606701256000&amp;api=v2">altimon_linux_611.tar</a></td><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr><tr style="margin-left: 30.0px;"><th class="confluenceTh">Altibase 4.3.9</th><td class="confluenceTd"> </td><td class="confluenceTd"> </td><td class="confluenceTd"><a href="https://docs.altibase.com/download/attachments/6979592/altimon_sunos_x86_439.tar?version=1&amp;modificationDate=1606701556000&amp;api=v2">altimon_sunos_x86_439.tar</a></td><td colspan="1" class="confluenceTd"> </td><td colspan="1" class="confluenceTd"> </td></tr></tbody></table></div><h3 id="Howtosetupandexecutealtimon-ALTIMONinstallationfile">ALTIMON installation file</h3><ul><li>Linux :  <a href="https://docs.altibase.com/download/attachments/6979592/altimon_linux_611.tar?version=3&amp;modificationDate=1606701256000&amp;api=v2">altimon_linux_611.tar</a></li><li>HP-UX IA : <a href="https://docs.altibase.com/download/attachments/6979592/altimon_linux.tar?version=2&amp;modificationDate=1606699755000&amp;api=v2">altimon_linux.tar</a></li><li>HP-UX PA-RISC</li><li>SunOS Sparc : <a href="https://docs.altibase.com/download/attachments/6979592/altimon_hpux_ia64.tar?version=2&amp;modificationDate=1606699773000&amp;api=v2">altimon_hpux_ia64.tar</a></li><li>SunOS x86 :</li><li>AIX : <a href="https://docs.altibase.com/download/attachments/6979592/altimon_sunos_sparc.tar?version=2&amp;modificationDate=1606699785000&amp;api=v2">altimon_sunos_sparc.tar</a></li><li>Altibase does not provide for WIndows. For Windows, refer to the <a href="https://aid.altibase.com/display/FAQE/Monitoring+tool+for+Windows" class="external-link" rel="nofollow">Monitoring Tools for Windows</a> page.</li></ul><h3 id="Howtosetupandexecutealtimon-ALTIMONconfigurationfile">ALTIMON configuration file</h3><ul><li>Altibase version 6.3.1 : <a href="https://docs.altibase.com/download/attachments/6979592/altimon.conf?version=1&amp;modificationDate=1527654613000&amp;api=v2">altimon.conf.631</a></li><li>ALTIBASE HDB version 5.1.5  : <a href="https://docs.altibase.com/download/attachments/6979592/altimon.conf.5.1.5?version=1&amp;modificationDate=1445845022000&amp;api=v2">altimon.conf.5.1.5</a></li><li>ALTIBASE HDB version 4.3.9  :</li></ul><p> </p><h1 id="Howtosetupandexecutealtimon-UploadingALTIMONfile">Uploading ALTIMON file</h1><hr /><p>Upload the attachment (altimon.tar) to any directory on the system running the Altibase server process.</p><p><span style="color: rgb(0,0,0);">Extract the attachment.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Midnight; brush: bash; gutter: false" style="font-size:12px;">$ tar xvf altimon.tar</pre>
</div></div><p><span style="color: rgb(0,0,0);">Once it is extracted, 'altimon' directory will be created.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">$ ls -l altimon
total 8336
drwxr-xr-x    2 eheejung staff           256 Dec 30 15:26 ACTION_LOG
drwxr-xr-x    2 eheejung staff           256 Dec 30 15:26 ACTION_SCRIPT
-rw-r--r--    1 eheejung staff           318 Dec 30 11:23 Makefile
-rwxr-xr-x    1 eheejung staff       3991619 Dec 30 15:10 altimon            // execution file
-rw-r--r--    1 eheejung staff         18120 Dec 30 11:23 altimon.conf       // configuration file
-rw-r--r--    1 eheejung staff         78141 Dec 30 11:23 altimon.cpp
-rw-r--r--    1 eheejung staff        166311 Dec 30 15:10 altimon.o
drwxr-xr-x    2 eheejung staff           256 Dec 30 15:26 log</pre>
</div></div><p><span style="color: rgb(0,0,0);"> </span></p><h1 id="Howtosetupandexecutealtimon-CopyingALTIMONexecutionfile"><span style="color: rgb(0,0,0);">Copying ALTIMON execution file</span></h1><hr /><p><span style="color: rgb(0,0,0);">Copy the ALTIMON executable file to the $ALTIBASE_HOME/bin directory.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;"> $ cp -p altimon $ALTIBASE_HOME/bin/</pre>
</div></div><p> </p><h1 id="Howtosetupandexecutealtimon-ThingstobechangedintheALTIMONconfigurationfile">Things to be changed in the ALTIMON configuration file</h1><hr /><p>In the ALTIMON configuration file ($ALTIBASE_HOME/conf/altimon.conf), in the Connection Group section and ALTIMON PROPERTY section, change the comment section below to suit your environment.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: xml; gutter: false" style="font-size:12px;">#########################################
## Connection Group
#########################################
&lt;CONNECTION_INFO&gt;
    &lt;DB_IP&gt;        127.0.0.1 &lt;/DB_IP&gt;
    &lt;SYS_PASSWD&gt;   manager     &lt;/SYS_PASSWD&gt;               # Enter sys account password
    &lt;PORT_NO&gt;      20300       &lt;/PORT_NO&gt;                  # Enter the Altibase server service port
    &lt;NLS_USE&gt;      US7ASCII    &lt;/NLS_USE&gt;                  # Enter database server character set iSQL&gt; select NLS_CHARACTERSET from v$nls_parameters; Can be checked.
&lt;/CONNECTION_INFO&gt;



#########################################
## ALTIMON PROPERTY
#########################################
&lt;ALTIMON_PROPERTY&gt;
    &lt;DATE_FORMAT&gt;   1    &lt;/DATE_FORMAT&gt;
    &lt;SLEEP_TIME&gt;    300  &lt;/SLEEP_TIME&gt;                                       # If a problem occurs, change it to suit your environment so that the situation at that time can be logged. The unit is seconds.
    &lt;LOG_FILE&gt;      /home/altibase/altimon/log/altimon.log &lt;/LOG_FILE&gt;       # Change the log file path to suit the environment. Enter it as an absolute path, leave the file name as it is, and change only the path.
    &lt;LOG_DIR&gt;       /home/altibase/altimon/log &lt;/LOG_DIR&gt;                    # Enter the log file path again as an absolute path to suit the environment.
    &lt;LIFE_CYCLE&gt;    3    &lt;/LIFE_CYCLE&gt;                                       # Log file retention period, in daily units. Change it to suit the environment.
    &lt;LOGGING_LV&gt;    2    &lt;/LOGGING_LV&gt;
    &lt;ALARM_FILE&gt;    /home/altibase/altimon/log/alarm.log   &lt;/ALARM_FILE&gt;     # Change the alarm log file path to suit your environment. Enter it as an absolute path, leave the filename as it is, and change only the path.
    &lt;DB_SAVE&gt;       OFF   &lt;/DB_SAVE&gt;
    &lt;LISTEN_PORT&gt;   22300 &lt;/LISTEN_PORT&gt;
&lt;/ALTIMON_PROPERTY&gt;</pre>
</div></div><p>From the settings below, the path $HOME/altimon/ACTION_SCRIPT/ will continue to be used.</p><p>If the altimon directory is located differently from the one below, please change it.</p><p>If altimon.tar is placed in the $HOME directory and untar it, the user does not need to change the settings below.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: xml; gutter: false" style="font-size:12px;">#########################################
## PROCESS CHECK PROPERTY
#########################################
&lt;OS_QUERY_GROUP_SET&gt;
    &lt;CPU_USAGE&gt; 80 &lt;/CPU_USAGE&gt;
    &lt;CPU_ACT&gt;                                        # From this setting, the path $HOME/altimon/ACTION_SCRIPT/ will continue to be used. If the altimon directory is located differently from the one below, it will be changed.
       is -silent -f $HOME/altimon/ACTION_SCRIPT/cpu_act.sql -o $HOME/altimon/ACTION_LOG/cpu_act.log.`date +%Y%m%d_%H%M%S`
    &lt;/CPU_ACT&gt;
    &lt;MEM_USAGE&gt; 100000000 &lt;/MEM_USAGE&gt;
    &lt;MEM_ACT&gt;
       is -silent -f $HOME/altimon/ACTION_SCRIPT/mem_act.sql -o $HOME/altimon/ACTION_LOG/mem_act.log.`date +%Y%m%d_%H%M%S`
    &lt;/MEM_ACT&gt;
    &lt;DISK_CHK_ENABLE&gt; ON &lt;/DISK_CHK_ENABLE&gt;
    &lt;DISK1&gt;  /home       &lt;/DISK1&gt;                    # Please modify the file system to be monitored.
    &lt;DISK1_USAGE&gt; 90     &lt;/DISK1_USAGE&gt;              # Enter the file system usage threshold. The unit is %.
    &lt;DISK2&gt;  /home1   &lt;/DISK2&gt;
    &lt;DISK2_USAGE&gt; 90     &lt;/DISK2_USAGE&gt;
    &lt;DISK_ACT&gt;
    &lt;/DISK_ACT&gt;
&lt;/OS_QUERY_GROUP_SET&gt; </pre>
</div></div><p> </p><h1 id="Howtosetupandexecutealtimon-ExecutingALTIMON">Executing ALTIMON</h1><hr /><p>After setting the environment variable, execute ALTIMON.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">$ export UNIX95=1             (For Bourne Shell, Korn Shell, Bash Shell)
Or
$ setenv UNIX95 1             ( For C Shell)

</pre>
</div></div><p>For AIX, it also sets the NMON environment variable.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">$ export NMON=t              (For Bourne Shell, Korn Shell, Bash Shell)
Or
$ setenv NMON t              ( For C Shell)</pre>
</div></div><p>Execute altimon.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">$ altimon start</pre>
</div></div><h1 id="Howtosetupandexecutealtimon-CheckAltibaseLog">Check Altibase Log</h1><hr /><p>altimon.log is saved in the following path set in $ALTIBASE_HOME/conf/altimon.conf.</p><p>The log of the day is altimon.log, and the last log is changed to altimon.log_MMDD.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">&lt;LOG_FILE&gt;      /home/eheejung/altimon/log/altimon.log &lt;/LOG_FILE&gt;</pre>
</div></div><p>The ALTIMON log of the date of failure can be sent from the above path.</p>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 23, 2021 09:45</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
