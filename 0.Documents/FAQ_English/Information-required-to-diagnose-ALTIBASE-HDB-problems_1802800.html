<!DOCTYPE html>
<html>
    <head>
        <title>FAQ(English) : Information required to diagnose ALTIBASE HDB problems</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">FAQ(English)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_6979649.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="ALTIBASE-HDB-Troubleshooting_1802664.html">ALTIBASE HDB Troubleshooting</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            FAQ(English) : Information required to diagnose ALTIBASE HDB problems
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> OO_Han</span>, last modified by <span class='editor'> OO_Cy Erbay</span> on Aug 02, 2011
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <style type='text/css'>/*<![CDATA[*/
div.rbtoc1624409158645 {padding: 0px;}
div.rbtoc1624409158645 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1624409158645 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1624409158645'>
<ul class='toc-indentation'>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Aboutthecontent'>About the content</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Listofdiagnosticsinformationtobegathered'>List of diagnostics information to be gathered</a>
<ul class='toc-indentation'>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBtracelog'>ALTIBASE HDB trace log</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-altibase.propertiesfile'>altibase.properties file</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-ListofOSEnvironmentvariables'>List of OS Environment variables</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Kernelvalue'>Kernel value</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-OSlogs'>OS logs</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Systemconfigurationinformation'>System configuration information</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBprocessstacktrace'>ALTIBASE HDB process stack trace</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Systemresourceutilization'>System resource utilization</a></li>
</ul>
</li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Problemsymptomsandrequireddiagnosticsinformation'>Problem symptoms and required diagnostics information</a>
<ul class='toc-indentation'>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-Commons'>Commons</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBabnormalshutdown'>ALTIBASE HDB abnormal shutdown</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBhang'>ALTIBASE HDB hang</a></li>
<li><a href='#InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBperformancedegradation'>ALTIBASE HDB performance degradation</a></li>
</ul>
</li>
</ul>
</div>

<h1 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Aboutthecontent">About the content</h1>

<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<td class="confluenceTd"><p> Purpose </p></td>
<td class="confluenceTd"><p> A list of information needed to diagnose ALTIBASE HDB problems. </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Applies to </p></td>
<td class="confluenceTd"><p> HDB versions 4.3.9 or later </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Prerequisites </p></td>
<td class="confluenceTd"><p> Administrator's Manual </p></td>
</tr>
</tbody></table></div>


<h1 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Listofdiagnosticsinformationtobegathered">List of diagnostics information to be gathered</h1>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBtracelog">ALTIBASE HDB trace log</h2>

<p>Almost in all cases to analyze problems, the best place to start is ALTIBASE HDB trace logs. The default location of these logs is is $ALTIBASE_HOME/trc folder.</p>

<p>When users have any issues in ALTIBASE HDB environment, they can archive and compress the entire folder structure and send it to Altibase Customer Support service to help to identify the root cause of the problems.</p>
<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> File Name </p></th>
<th class="confluenceTh"><p> Description </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> altibase_boot.log </p></td>
<td class="confluenceTd"><p> The main trace log. It contains ALTIBASE HDB engine's start-up and shutdown log. </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> altibase_qp.log </p></td>
<td class="confluenceTd"><p> The trace of  ALTIBASE HDB QP (Query Processing) module. </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> altibase_sm.log </p></td>
<td class="confluenceTd"><p> The trace log of ALTIBASE HDB SM (Storage Manage) module. </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> altibase_rp.log </p></td>
<td class="confluenceTd"><p> The trace log of ALTIBASE HDB RP (Replication Processor) module. </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> altibase_xa.log </p></td>
<td class="confluenceTd"><p> The trace log of ALTIBASE HDB XA module. </p></td>
</tr>
</tbody></table></div>

<p>It is advisable to send us all of these files above in order to minimize round-trip times.</p>

<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-altibase.propertiesfile">altibase.properties file</h2>

<p>altibase.properties file is located in $ALTIBASE_HOME/conf folder.</p>

    <div class="aui-message success shadowed information-macro">
                            <span class="aui-icon icon-success">Icon</span>
                <div class="message-content">
                            
<p>If any part of this file is altered, it is advisable to send the result of following script along with the log files to Altibase Customer Support .</p>

<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">
$ is &lt;&lt;EOF
spool out.txt
set linesize 200
select rpad(name,30) name,  value1 from v\$property;
quit;
EOF
</pre>
</div></div>
                    </div>
    </div>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-ListofOSEnvironmentvariables">List of OS Environment variables</h2>

<p>A text file containing the OS specific environment information listed below should also be submitted to Altibase Customer Service.</p>
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">
$ env
$ ulimit -a
</pre>
</div></div>

<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Kernelvalue">Kernel value</h2>

<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> OS </p></th>
<th class="confluenceTh"><p> command </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> HP </p></td>
<td class="confluenceTd"><p> # kctune </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> AIX </p></td>
<td class="confluenceTd"><p> # vmo -a -F </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> </p></td>
<td class="confluenceTd"><p> # schedo -a -F </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> </p></td>
<td class="confluenceTd"><p> # no -a -F </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Solaris </p></td>
<td class="confluenceTd"><p> # cat /etc/project </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Linux </p></td>
<td class="confluenceTd"><p> # cat /proc/sys/kernel/sem </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> </p></td>
<td class="confluenceTd"><p> # cat /proc/sys/kernel/semall </p></td>
</tr>
</tbody></table></div>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-OSlogs">OS logs</h2>

<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> OS </p></th>
<th class="confluenceTh"><p> command </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> HP </p></td>
<td class="confluenceTd"><p> # cat /var/adm/syslog/syslog.log </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> AIX </p></td>
<td class="confluenceTd"><p> # errpt -a </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Solaris </p></td>
<td class="confluenceTd"><p> # cat /var/adm/messages </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> </p></td>
<td class="confluenceTd"><p> # dmesg </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Linux </p></td>
<td class="confluenceTd"><p> # cat /var/log/messages </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> </p></td>
<td class="confluenceTd"><p> # dmesg </p></td>
</tr>
</tbody></table></div>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Systemconfigurationinformation">System configuration information</h2>

<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> OS </p></th>
<th class="confluenceTh"><p> command </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> HP </p></td>
<td class="confluenceTd"><p> # machinfo </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> AIX </p></td>
<td class="confluenceTd"><p> # prtconf </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Solaris </p></td>
<td class="confluenceTd"><p> # prtconf </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Linux </p></td>
<td class="confluenceTd"><p> # cat /proc/cpuinfo </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> </p></td>
<td class="confluenceTd"><p> # cat /proc/meminfo </p></td>
</tr>
</tbody></table></div>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBprocessstacktrace">ALTIBASE HDB process stack trace</h2>

<p>The stack trace shows a snapshot of the state of the threads, and it is very useful information to solve the various types of problems - especially, process hanging situations.</p>
<div class="table-wrap"><table class="confluenceTable"><tbody>
<tr>
<th class="confluenceTh"><p> Platforms </p></th>
<th class="confluenceTh"><p> Usage </p></th>
<th class="confluenceTh"><p> </p></th>
</tr>
<tr>
<td class="confluenceTd"><p> AIX </p></td>
<td class="confluenceTd"><p> $ procstack [altibase_pid] </p></td>
<td class="confluenceTd"><p> after AIX 6.1, procstack command to ALTIBASE HDB process does not work properly. </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> HPUX </p></td>
<td class="confluenceTd"><p> $ pstack [altibase_pid] </p></td>
<td class="confluenceTd"><p> </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Solaris </p></td>
<td class="confluenceTd"><p> $ pstack [altibase_pid] </p></td>
<td class="confluenceTd"><p> </p></td>
</tr>
<tr>
<td class="confluenceTd"><p> Linux </p></td>
<td class="confluenceTd"><p> $ pstack [altibase_pid] </p></td>
<td class="confluenceTd"><p> </p></td>
</tr>
</tbody></table></div>



<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Systemresourceutilization">System resource utilization</h2>

<ul>
	<li>vmstat
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">
$ vmstat 1 5
</pre>
</div></div></li>
</ul>


<ul>
	<li>CPU and memory utilization of ALTIBASE HDB process
<div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">
$ ps -p [altibase_pid] -o pcpu -o vsz
</pre>
</div></div></li>
</ul>


<h1 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Problemsymptomsandrequireddiagnosticsinformation">Problem symptoms and required diagnostics information</h1>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-Commons">Commons</h2>

<ul>
	<li>ALTIBASE HDB trace log</li>
	<li>altibase.properties</li>
	<li>OS Environment variable list<br />
Above information is required to analyze any ALTIBASE HDB problem.</li>
</ul>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBabnormalshutdown">ALTIBASE HDB abnormal shutdown</h2>

<ul>
	<li>Commons</li>
	<li>OS logs</li>
</ul>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBhang">ALTIBASE HDB hang</h2>

<ul>
	<li>Commons</li>
	<li>ALTIBASE HDB process stack trace</li>
</ul>


<h2 id="InformationrequiredtodiagnoseALTIBASEHDBproblems-ALTIBASEHDBperformancedegradation">ALTIBASE HDB performance degradation</h2>

<ul>
	<li>Commons</li>
	<li>ALTIBASE HDB process stack trace during the system peak time.</li>
</ul>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 23, 2021 09:45</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
