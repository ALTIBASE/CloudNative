<!DOCTYPE html>
<html>
    <head>
        <title>Technical Documents(English) : Altibase Configuration File Guide</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Technical Documents(English)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_557064.html">Home</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Technical Documents(English) : Altibase Configuration File Guide
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> richard.nahm	</span>, last modified on Feb 22, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1624409366738 {padding: 0px;}
div.rbtoc1624409366738 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1624409366738 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1624409366738'>
<ul class='toc-indentation'>
<li><a href='#AltibaseConfigurationFileGuide-Overview'>Overview</a></li>
<li><a href='#AltibaseConfigurationFileGuide-AltibaseConfigurationItems'>Altibase Configuration Items</a>
<ul class='toc-indentation'>
<li><a href='#AltibaseConfigurationFileGuide-PropertyInquiryandConfiguration'>Property Inquiry and Configuration</a></li>
</ul>
</li>
<li><a href='#AltibaseConfigurationFileGuide-AltibaseConfigurationGuide'>Altibase Configuration Guide</a>
<ul class='toc-indentation'>
<li><a href='#AltibaseConfigurationFileGuide-PropertiesthatmustbechangedwhencreatingDB'>Properties that must be changed when creating DB</a></li>
<li><a href='#AltibaseConfigurationFileGuide-PropertiesthatcannotbechangedaftercreatingDB'>Properties that cannot be changed after creating DB</a></li>
<li><a href='#AltibaseConfigurationFileGuide-Filepathconfigurationproperties'>File path configuration properties</a></li>
<li><a href='#AltibaseConfigurationFileGuide-Sessionproperties'>Session properties</a></li>
<li><a href='#AltibaseConfigurationFileGuide-Resourcelimitrelatedproperties'>Resource limit related properties</a></li>
<li><a href='#AltibaseConfigurationFileGuide-DiskI/OPerformance-relatedproperties'>Disk I/O Performance-related properties</a></li>
<li><a href='#AltibaseConfigurationFileGuide-PBT(ProblemTracking)relatedproperties'>PBT(Problem Tracking) related properties</a></li>
</ul>
</li>
</ul>
</div></p><h1 id="AltibaseConfigurationFileGuide-Overview">Overview</h1><hr /><p>This document describes the properties of the altibase.properties file for effective use of Altibase, and how to specify values. This document does not include a description of the hidden property.</p><p>This document was prepared based on Altibase version 7 or later. It is recommended that users refer to the following documents:</p><ol><li>System Resource Capacity Planning Guide for Altibase</li><li>Altibase Replication Configuration Guide</li></ol>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>For errors and improvements related to this document, please contact the technical support portal or technical support center.</p><ul><li>Technical support portal: <a class="external-link" href="http://support.altibase.com/" rel="nofollow">http://support.altibase.com</a><a class="external-link" href="http://support.altibase.com/en/" rel="nofollow">/en/</a></li><li>Technical support center: 02-2082-1114</li></ul>
                    </div>
    </div>
<p> </p><h1 id="AltibaseConfigurationFileGuide-AltibaseConfigurationItems">Altibase Configuration Items</h1><hr /><p>For a more detailed description of each property, please refer to the General Reference manual.</p><p>Refer to the link below for the manual.</p><p><a href="https://github.com/ALTIBASE/Documents/tree/master/Manuals/Altibase_7.1/eng" class="external-link" rel="nofollow">https://github.com/ALTIBASE/Documents/tree/master/Manuals/Altibase_7.1/eng</a></p><h2 id="AltibaseConfigurationFileGuide-PropertyInquiryandConfiguration">Property Inquiry and Configuration</h2><hr /><p>Each property can be inquired as follows.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: DJango; brush: sql; gutter: false" style="font-size:12px;">iSQL&gt; SELECT name, value1 FROM v$property ;</pre>
</div></div><p>Alternatively, it can also be inquired in the $ALTIBASE_HOME/conf/altibase.properties file. However, when inquiring with a file, some of the hidden property values are not known, and in order to accurately find out the currently applied value, it is recommended to inquire with the above SQL.</p><p>The change of each property value can be described in the configuration file or can be changed in real time with the DCL statement (ALTER SYSTEM/ALTER SESSION statement). Some properties are read-only values and some cannot be changed while operating. If a property is changed, the following error occurs.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: DJango; brush: sql; gutter: false" style="font-size:12px;">[ERR-0104E: The property [propery_name] is read-only.]</pre>
</div></div><p>When changing the properties in the configuration file, the following format is used.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: DJango; brush: text; gutter: false" style="font-size:12px;">Property name = Property value
Ex) PORT_NO = 20300</pre>
</div></div><p>For example, when changing with a DCL, proceed as follows. (Case-insensitive)</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: DJango; brush: sql; gutter: false" style="font-size:12px;">iSQL&gt; ALTER SYSTEM SET query_timeout = 30;
iSQL&gt; ALTER SESSION SET query_timeout = 30;</pre>
</div></div><p>In the case of DCL, there are items that can be changed at the session level and the system level. However, in both cases, if Altibase is restarted, it is reset to the value described in the configuration file, so in order to reflect it permanently, the configuration file needs to be changed. (Items that cannot be changed after creating a DB are introduced later in this document.)</p><h1 id="AltibaseConfigurationFileGuide-AltibaseConfigurationGuide">Altibase Configuration Guide</h1><hr /><p>Each item described in the $ALTIBASE_HOME/conf/altibase.properties file is summarized by each category and the recommendations are described.</p><p>Because the user's system has a wide variety of environments, this recommendation is recommended for general experience. Therefore it is recommended to change and apply the configuration file with prior consultation with Altibase engineers.</p><h2 id="AltibaseConfigurationFileGuide-PropertiesthatmustbechangedwhencreatingDB">Properties that must be changed when creating DB</h2><hr /><p>The items that the user must configure at least when creating the DB are as follows. For the sake of understanding, it is assumed that the disk volume is configured as follows.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Disk volume</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">/home/altibase</td><td class="confluenceTd">Path where Altibase is installed</td></tr><tr><td class="confluenceTd">/home/altidata</td><td class="confluenceTd">Directory where data files will be saved</td></tr><tr><td class="confluenceTd">/home/altilog</td><td class="confluenceTd">Directory where transaction log files will be saved</td></tr></tbody></table></div><p>Assuming the above volume configuration, it can be set as follows.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration Item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">DB_NAME</td><td class="confluenceTd">Configure to any name by the user</td></tr><tr><td class="confluenceTd">MEM_DB_DIR</td><td class="confluenceTd"><p>/home/altidata</p></td></tr><tr><td class="confluenceTd">DEFAULT_DISK_DB_DIR</td><td class="confluenceTd">/home/altidata</td></tr><tr><td class="confluenceTd">LOGANCHOR_DIR</td><td class="confluenceTd">/home/altilog</td></tr><tr><td class="confluenceTd">LOG_DIR</td><td class="confluenceTd">/home/altilog</td></tr><tr><td class="confluenceTd">ARCHIVE_DIR</td><td class="confluenceTd">It is recommended to specify the backup directory when the archive mode is set. (ex:/home/altibackup/arch_log)</td></tr><tr><td class="confluenceTd"><p>MEM_MAX_DB_SIZE</p></td><td class="confluenceTd">It is set to the size predicted by calculating the capacity. (ex: 8G)</td></tr><tr><td class="confluenceTd">BUFFER_AREA_SIZE</td><td class="confluenceTd">When using a disk table, the size of the buffer is closely related to performance, so set it large within the range of available physical memory. 1G or more is recommended.</td></tr><tr><td class="confluenceTd">PORT_NO</td><td class="confluenceTd">Set a port that is not being used by other processes in the system, such as 20300.</td></tr><tr><td class="confluenceTd">AUTO_COMMIT</td><td class="confluenceTd"><p>If it is set to 1, it is automatically reflected in the DB after DML is executed, so if the user wants to control it directly, set it to 0.</p></td></tr><tr><td class="confluenceTd"><p>SQL_PLAN_CACHE</p></td><td class="confluenceTd">This is the maximum size of the SQL plan cache. The more replicate SQL is, the more effective the SQL plan cache is to save memory.</td></tr><tr><td colspan="1" class="confluenceTd">REPLICATION_PORT_NO</td><td colspan="1" class="confluenceTd">When replication is required, specify the port.</td></tr></tbody></table></div><h2 id="AltibaseConfigurationFileGuide-PropertiesthatcannotbechangedaftercreatingDB">Properties that cannot be changed after creating DB</h2><p>Once after creating Altibase, there are some properties that Altibase cannot be restarted if it is changed in any form from the initial configuration value. Therefore, it is recommended to configure these properties carefully when initially configuring them.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">DB_NAME</td><td class="confluenceTd">mydb (Specify when creating)</td></tr><tr><td class="confluenceTd">LOG_FILE_SIZE</td><td class="confluenceTd">10M (Specify when creating)</td></tr><tr><td class="confluenceTd">EXPAND_CHUNK_PAGE_COUNT</td><td class="confluenceTd">128 (Specify when creating)</td></tr><tr><td class="confluenceTd">TRANSACTION_TABLE_SIZE</td><td class="confluenceTd">1024 (Only upward adjustment is possible)</td></tr><tr><td class="confluenceTd">CHARACTERSET</td><td class="confluenceTd">Specify when creating DB</td></tr></tbody></table></div><h2 id="AltibaseConfigurationFileGuide-Filepathconfigurationproperties"><span style="font-size: 20.0px;color: rgb(0,0,255);"><span style="color: rgb(0,0,255);"><span style="color: rgb(0,0,0);">File path configuration properties</span></span></span></h2><hr /><p>This section only deals with files with configuration paths for transaction log files and data files. Generally, if the transaction log file and data file are specified to use the same disk on one disk, performance degradation occurs due to simultaneous disk I/O. Therefore, it is recommended to change each configuration item by referring to the following document.</p><p>Reference: <span style="color: rgb(76,76,76);">Configuration Guide For Minimizing Disk I/O Contention</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">LOG_DIR</td><td class="confluenceTd">Directory where transaction log files are created</td></tr><tr><td class="confluenceTd">MEM_DB_DIR</td><td class="confluenceTd">Directory where data files of the memory DB are created unless the user does not explicitly specify it.</td></tr><tr><td class="confluenceTd">DEFAULT_DISK_DB_DIR</td><td class="confluenceTd">Directory where disk files of the disk DB are created unless the user does not explicitly specify it.</td></tr></tbody></table></div><p><span style="color: rgb(76,76,76);">It is recommended that the above three paths and each data file to be created by the user in the future use a disk that is physically separated from LOG_DIR.</span></p><h2 id="AltibaseConfigurationFileGuide-Sessionproperties"><span style="color: rgb(76,76,76);">Session properties</span></h2><p><span style="color: rgb(76,76,76);"> </span></p><hr /><p><span style="color: rgb(76,76,76);">The properties related to the session are the following items.</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd">MAX_CLIENT</td><td class="confluenceTd">Because there is a limit of sessions to connect to the DB at the same time, if it is expected that more sessions will be connected than this value, increase this value and restart the Altibase server.</td></tr><tr><td class="confluenceTd">MULTIPLEXING_THREAD_COUNT</td><td class="confluenceTd">This value specifies the number of service threads. If not set, threads as much as the number of cores of the CPU is automatically created in the startup stage. If many sessions are internally connected, it is automatically created when it is determined that more service threads are needed., but the distribution of tasks at the time of creation can cause temporary performance jitter, so it is important to configure to obtain a sufficient number in advance.</td></tr></tbody></table></div><p><span style="color: rgb(76,76,76);">It is recommended for MULTIPLEXING_THREAD_COUNT to be (CPU Core Count * 2) by default, but this value should be set according to the situation.</span></p><h2 id="AltibaseConfigurationFileGuide-Resourcelimitrelatedproperties"><span style="color: rgb(76,76,76);">Resource limit related properties</span></h2><p><span style="color: rgb(76,76,76);"> </span></p><hr /><p><span style="color: rgb(76,76,76);">The resources used by Altibase refer to resources such as physical memory/disk space and logical tablespace. This section describes each property that flexibly limits query execution, such as a large number of changes at the session/system level, which can lead to resource shortages. It is recommended that these properties be operated to change//apply only necessary sessions with configuration change at the session-level rather than changing the default configuration.</span></p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><p>LOCK_ESCALATION_MEMORY_SIZE</p></td><td class="confluenceTd">When performing a bulk change operation on a memory DB table, if the size of the changed record exceeds this property value, a table lock is acquired and a query is executed (Can only be changed at the system-level)</td></tr><tr><td class="confluenceTd"><p>TRX_UPDATE_MAX_LOGSIZE</p></td><td class="confluenceTd"><p>If the amount of transaction log created by query processing is more than this property value, the following error is returned:</p><p>The update log size '10485873' is bigger than TRX_UPDATE_MAX_LOGSIZE '10485760'</p></td></tr><tr><td class="confluenceTd"><p>PREPARE_STMT_MEMORY_MAXIMUM</p></td><td class="confluenceTd"><p>If the amount of memory used in the prepare stage by query processing is more than this property value, the following error is returned:</p><p>The memory size allocated for the statement has exceeded the maximum limit ( Name : Query_Prepare, Wanted Memory Size : 1073741832, Max size : 1073741824 )</p></td></tr><tr><td class="confluenceTd"><p>EXECUTE_STMT_MEMORY_MAXIMUM</p></td><td class="confluenceTd"><p>If the amount of memory used in the execute stage by query processing is more than this property value, the following error is returned:</p><p>The memory size allocated for the statement has exceeded the maximum limit ( Name : Query_Execute, Wanted Memory Size : 1073807360, Max size : 1073741824 )</p></td></tr><tr><td class="confluenceTd"><p>QUERY_TIMEOUT</p></td><td class="confluenceTd"><p>If the time exceeds this property value after executing the query, the following error is returned:</p><p>Client's query exceeded the execution time limit.</p></td></tr><tr><td class="confluenceTd"><p>FETCH_TIMEOUT</p></td><td class="confluenceTd"><p>In the process of exchanging the result set created after the query was normally executed, if communication does not occur even after this property value elapses between the previous communication and the next communication, the session is terminated.</p><p>The session has been closed by the server</p></td></tr><tr><td class="confluenceTd"><p>UTRANS_TIMEOUT</p></td><td class="confluenceTd"><p>After the change query is executed, if the execution of Commit/Rollback does not occur even after as much time as this property value, the session is terminated.</p><p>The transaction has exceeded the lock timeout specified by the user.</p></td></tr><tr><td class="confluenceTd">IDLE_TIMEOUT</td><td class="confluenceTd"><p>If the session is maintained as much as this property value without any action, the session is forcibly terminated.</p><p>The session has been closed by the server.</p></td></tr></tbody></table></div><p><span style="color: rgb(76,76,76);">An example of how to change is as follows.</span></p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: DJango; brush: sql; gutter: false" style="font-size:12px;">iSQL&gt; ALTER SESSION SET TRX_UPDATE_MAX_LOGSIZE = 20000000 ;iSQL&gt; ALTER SYSTEM  SET TRX_UPDATE_MAX_LOGSIZE = 10000000 ;
iSQL&gt; ALTER SESSION SET QUERY_TIMEOUT = 3600 ;
iSQL&gt; ALTER SESSION SET UTRANS_TIMEOUT = 60 ;</pre>
</div></div><ul><li><span style="color: rgb(76,76,76);">Since all the QUERY/IDLE/UTRANS/FETCH Timeout properties and errors related to the session are recorded in altibase.boot.log, find the session and take action when it occurs.</span></li><li><span style="color: rgb(76,76,76);">Notes/Considerations for ALTER SYSTEM and ALTER SESSION: ALTER SYSTEM changes will take effect from the subsequent sessions. Therefore, since the currently connected session is not applied, the desired result can be applied only by performing ALTER SESSION for individual connected sessions.</span></li></ul><h2 id="AltibaseConfigurationFileGuide-DiskI/OPerformance-relatedproperties">Disk I/O Performance-related properties</h2><hr /><p>This describes the property items related to Altibase's disk I/O performance.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><span>BUFFER_AREA_SIZE</span></td><td class="confluenceTd">Specify the buffer size of the disk DB. If there is enough memory in the system, it is recommended to set it as large as possible.</td></tr><tr><td class="confluenceTd"><span>BUFFER_FLUSHER_CNT</span></td><td class="confluenceTd">This is a thread that writes a buffer to the disk to secure dirty pages in the disk DB or free space in the buffer, and adjusts according to the number of CPUs or disk I/O performance of the system.</td></tr><tr><td class="confluenceTd"><span>PREPARE_LOG_FILE_COUNT</span></td><td class="confluenceTd"><p>A separate thread creates an empty log file to record the transaction log. If this value is too small, performance may be degraded if the transaction progress has to wait for the creation of an empty log file. Therefore, if thhe LF_PREPARE_WAIT_COUNT value of v$lfg appears to be larger, the value must be adjusted accordingly. Even if it is set too large, disk I/O load that actually creates an empty log file will occur, so it is recommended to change it carefully by testing.</p></td></tr><tr><td class="confluenceTd"><p>CHECKPOINT_BULK_WRITE_PAGE_COUNT</p><p>CHECKPOINT_BULK_WRITE_SLEEP_SEC</p><p>CHECKPOINT_BULK_WRITE_SLEEP_USEC</p></td><td class="confluenceTd">When it is determined that performance is degraded due to the disk I/O that occurs because there are many pages to be written when the memory DB checkpoint is in progress, the amount of disk I/O of the checkpoint can be distributed with this property value. In other words, after writing the page as much as the value specified in CHECKPOINT_BULK_WRITE_PAGE_COUNT, it waits for (CHECKPOINT_BULK_WRITE_SLEEP_SEC + CHECKPOINT_BULK_WRITE_SLEEP_USEC) and then writes again. This property can be effective on equipment with low disk performance.</td></tr><tr><td class="confluenceTd"><p>DIRECT_IO</p><p>DATABASE_IO_TYPE</p></td><td class="confluenceTd">In the process of writing to a data file with the file cache, it may be difficult to predict two disk writes (file cache, disk sync) and when the file cache will be synced to the disk. As a result, there may be an unexpected performance degradation when the operating system empties the file cache. If DIRECT IO is set, it can be completed with one write. However, it is recommended to set this setting only when the disk performance is high enough.</td></tr><tr><td colspan="1" class="confluenceTd"><p>TOTAL_WA_SIZE</p><p>SORT_AREA_SIZE</p><p>HASH_AREA_SIZE</p></td><td colspan="1" class="confluenceTd"><p>Specify the maximum amount of memory that can be allocated so that disk DB sorting or hashing operations can be performed simultaneously. (TOTAL_WA_SIZE)</p><p>If SORT_AREA_SIZE and HASH_AREA_SIZE are increased appropriately, the performance of the disk DB can be improved.</p></td></tr></tbody></table></div><h2 id="AltibaseConfigurationFileGuide-PBT(ProblemTracking)relatedproperties">PBT(Problem Tracking) related properties</h2><hr /><p>This section describes properties necessary for tracking when a problem occurs in Altibase.</p><div class="table-wrap"><table class="confluenceTable"><tbody><tr><th class="confluenceTh">Configuration item</th><th class="confluenceTh">Description</th></tr><tr><td class="confluenceTd"><span>QP_MSGLOG_FLAG</span></td><td class="confluenceTd">If it is set to 2, all DDL performance records can be checked, so when a problem occurs, which can be helpful for analysis if DDL performance is based.</td></tr><tr><td class="confluenceTd"><span>RP_CONFLICT_MSGLOG_FLAG</span></td><td class="confluenceTd">If it is set to 6, a log of DML occurs when a replication conflict is recorded. which can be helpful for analysis.</td></tr><tr><td class="confluenceTd"><span>TIMED_STATISTICS</span></td><td class="confluenceTd"><p>The default value is 0. To know the execution times of each SQL statement related to performance, it can be activated in real time as follows.</p><p>iSQL&gt; ALTER SYSTEM SET timed_statistics = 1 ;</p><p>When activated, the execution times of each SQL statement start to be recorded in v$statement.</p></td></tr></tbody></table></div><p> </p><div><span style="color: rgb(0,0,255);"><br /></span></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 23, 2021 09:49</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
