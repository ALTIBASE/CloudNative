<!DOCTYPE html>
<html>
    <head>
        <title>Technical Documents(English) : 4. Frequently Occurring Error Messages</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">Technical Documents(English)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_557064.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="Altibase-Precompiler-Guide_14647438.html">Altibase Precompiler Guide</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            Technical Documents(English) : 4. Frequently Occurring Error Messages
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> richard.nahm	</span>, last modified on Feb 19, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1624409362240 {padding: 0px;}
div.rbtoc1624409362240 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1624409362240 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1624409362240'>
<ul class='toc-indentation'>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Connectiondoesnotexist.(SQLCODE=–2)'>Connection does not exist. (SQLCODE=–2)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Stringdatarighttruncated.(SQLCODE=1)'>String data right truncated. (SQLCODE=1)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Invalidsizeofdatatobindtoahostvariable[ColumnID=&lt;A%d&gt;,DataSize=&lt;B%d&gt;,DeclaredSizeofHostVariable=&lt;C%d&gt;](SQLCODE=-201144or-266423)'>Invalid size of data to bind to a host variable [ Column ID = &lt;A%d&gt;, Data Size = &lt;B%d&gt; , Declared Size of Host Variable = &lt;C%d&gt; ] (SQLCODE=-201144 or -266423)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Calculationstackoverflow(SQLCODE=-135187or-659475)'>Calculation stack overflow (SQLCODE=-135187 or -659475)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-ValueoverfloworNumericvalueoutofrange(SQLCODE=-135184or-659472or-331890)'>Value overflow or Numeric value out of range (SQLCODE=-135184 or -659472 or -331890)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Conversionnotapplicable(SQLCODE=-135180or-659468)'>Conversion not applicable (SQLCODE=-135180 or -659468)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Invalidlengthofthedatatype(SQLCODE=-135181or-659469)'>Invalid length of the data type (SQLCODE=-135181 or -659469)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Invalidcharactervalueforcastspecification(SQLCODE=-331893)'>Invalid character value for cast specification (SQLCODE=-331893)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Invalidcursorstate.(SQLCODE=-331822)orFunctionsequenceerror(SQLCODE=-331796)'>Invalid cursor state. (SQLCODE=-331822) or Function sequence error (SQLCODE= -331796)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Thecursormustbeopenedforfetch(SQLCODE=-1)orThecursordoesnotexist(SQLCODE=-589857)'>The cursor must be opened for fetch (SQLCODE=-1) or The cursor does not exist (SQLCODE=-589857)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Notenoughinsertvalues(SQLCODE=-200787)'>Not enough insert values (SQLCODE=-200787)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Thetablespacedoesnothaveenoughfreespace(SQLCODE=-69685or-69923)'>The tablespace does not have enough free space (SQLCODE=-69685 or -69923)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Inputliteralisnotlongenoughfordateformat.(SQLCODE=-135218)'>Input literal is not long enough for date format. (SQLCODE=-135218)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Literalsintheinputdonotmatchformatstring.(SQLCODE=-135224)'>Literals in the input do not match format string. (SQLCODE=-135224)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Thetransactionisalreadyactive.(SQLCODE=-266311or-266312)'>The transaction is already active. (SQLCODE=-266311 or -266312)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Therowalreadyexistsinauniqueindex.(SQLCODE=-69720)'>The row already exists in a unique index. (SQLCODE=-69720)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Unabletoinsert(orupdate)NULLintoNOTNULLcolumn.(SQLCODE=-200790)'>Unable to insert (or update) NULL into NOT NULL column. (SQLCODE=- 200790)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Indicatorvariablerequiredbutnotsupplied.(SQLCODE=-331841or-594101or594103)'>Indicator variable required but not supplied. (SQLCODE=-331841 or -594101 or 594103)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Client&#39;squeryexceededintheexecutiontimelimitation.(SQLCODE=-4164)'>Client&#39;s query exceeded in the execution time limitation. (SQLCODE=-4164)</a></li>
<li><a href='#id-4.FrequentlyOccurringErrorMessages-Communicationlinkfailure.(SQLCODE=-331843or-331855)'>Communication link failure. (SQLCODE=-331843 or -331855)</a></li>
</ul>
</div></p><hr /><p>This chapter describes and summarizes frequently occurring errors identified with SQLCODE and sqlca.sqlerrm.sqlerrmc. There can be two SQLCODEs for the same sqlca.sqlerrm.sqlerrmc. This is because it may be different depending on the location of the module in which the error occurred among the ALTIBASE internal modules. Since the contents of the error are the same, the corrective actions are the same as well.</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Connectiondoesnotexist.(SQLCODE=–2)">Connection does not exist. (SQLCODE=–2)</h2><p>This is the case that the connection object to be used does not exist or disappears during the query processing process. Check whether the connection has been properly processed and in the case of a threaded program, check whether the connection name is properly indicated in the EXEC SQL AT clause.</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Stringdatarighttruncated.(SQLCODE=1)">String data right truncated. (SQLCODE=1)</h2><p>This is the case when the length of the declared variable is small in the process of storing the value in the variable from the DB. Change the length of the DB variable as large as (data length + 1byte).</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Invalidsizeofdatatobindtoahostvariable[ColumnID=&lt;A%d&gt;,DataSize=&lt;B%d&gt;,DeclaredSizeofHostVariable=&lt;C%d&gt;](SQLCODE=-201144or-266423)">Invalid size of data to bind to a host variable [ Column ID = &lt;A%d&gt;, Data Size = &lt;B%d&gt; , Declared Size of Host Variable = &lt;C%d&gt; ] (SQLCODE=-201144 or -266423)</h2><p>The actual data of (A+1)-th  column has the size of B, but the length of the host variable has the size of C. so it occurs when the data value exceeds the length of the variable. Therefore, the length of the variable must be set larger than the length of the data. From time to time, even if the memory of the host variable is broken due to a program error. Therefore, it is recommended to check whether the host variable's memset or memory is broken. Or, in the case of a threaded program, it can also occur when concurrency control is not properly controlled with a single connection for multiple SQL statements.</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Calculationstackoverflow(SQLCODE=-135187or-659475)">Calculation stack overflow (SQLCODE=-135187 or -659475)</h2><div>This is the case when the size of the stack used in the query process is exceeded. </div><div>Execute the SQL statement as follows before executing the query. The default is 1024.</div><div><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">EXEC SQL ALTER SESSION SET STACK SIZE = 4096;</pre>
</div></div><h2 id="id-4.FrequentlyOccurringErrorMessages-ValueoverfloworNumericvalueoutofrange(SQLCODE=-135184or-659472or-331890)">Value overflow or Numeric value out of range (SQLCODE=-135184 or -659472 or -331890)</h2><div>This is the case when the data value used in the host variable is an input that is larger than the expression range of the column defined in the actual DB.</div><div>Check the data value and change the column if necessary.</div><div><h2 id="id-4.FrequentlyOccurringErrorMessages-Conversionnotapplicable(SQLCODE=-135180or-659468)">Conversion not applicable (SQLCODE=-135180 or -659468)</h2><div>This is the case when conversion between the data type of the column used in ALTIBASe or the type of host variable is not supported.</div><div><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">Table T1 (c1 char(10));  
 
Insert into t1 values (&#39;A&#39;) ;
  
 
(O) update t1 set c1 = case2(C1 = 1, 0, 1) ;
 
(X) update t1 set c1 =  decode (C1=1, 0, 1); // Boolean type is not allowed in the parameter of decode.</pre>
</div></div><p>Additionally, an error may occur when a host variable having a data type that cannot be converted is used in CLOB/BLOB handling</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Invalidlengthofthedatatype(SQLCODE=-135181or-659469)">Invalid length of the data type (SQLCODE=-135181 or -659469)</h2><div>This is the case when data larger than the length that can be stored in the DB column is input.</div><div><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">Table T1 (c1 char(10));
 
(X) Insert into t1 values (&#39;AAAAAAAAAAAAAAAAAAAAAAAAA&#39;);</pre>
</div></div><h2 id="id-4.FrequentlyOccurringErrorMessages-Invalidcharactervalueforcastspecification(SQLCODE=-331893)">Invalid character value for cast specification (SQLCODE=-331893)</h2><div>This is the case when a string is contained in a numeric host variable and processed.</div><div>Declare a host variable suitable for the column type.</div><div><h2 id="id-4.FrequentlyOccurringErrorMessages-Invalidcursorstate.(SQLCODE=-331822)orFunctionsequenceerror(SQLCODE=-331796)">Invalid cursor state. (SQLCODE=-331822) or Function sequence error (SQLCODE= -331796)</h2></div><p>This is the case when the order to be followed to use the cursor is not performed properly. Or, this error also occurs when a cursor that has already read all data or a cursor that has been closed and calls to fetch again.</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Thecursormustbeopenedforfetch(SQLCODE=-1)orThecursordoesnotexist(SQLCODE=-589857)">The cursor must be opened for fetch (SQLCODE=-1) or The cursor does not exist (SQLCODE=-589857)</h2></div><p>To use a cursor normally, it must be processed with the order of PREPARE -&gt; DECLARE -&gt; OPEN -&gt; FETCH -&gt; CLOSE. This error occurs when an attempt is made to FETCH a cursor that is not normally DECLARE/OPEN.</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Notenoughinsertvalues(SQLCODE=-200787)">Not enough insert values (SQLCODE=-200787)</h2><div>This error occurs when the number of columns specified in the INSERT statement and the number of host variables does not match.</div><div><h2 id="id-4.FrequentlyOccurringErrorMessages-Thetablespacedoesnothaveenoughfreespace(SQLCODE=-69685or-69923)">The tablespace does not have enough free space (SQLCODE=-69685 or -69923)</h2><div><p>This is the case when there is no space due to the use of all the tablespace capacity during the transaction.</p><p>In this case, in the case of the disk tablespace, space must be secured by adding a data file, and in the case of a memory tablespace, available space must be secured by deleting or compacting unnecessary data.</p><p> </p></div></div><div><h2 id="id-4.FrequentlyOccurringErrorMessages-Inputliteralisnotlongenoughfordateformat.(SQLCODE=-135218)">Input literal is not long enough for date format. (SQLCODE=-135218)</h2><div>This is the case when the string entered into the date function is too short.</div><div>Check if there are no errors in the entered data.</div></div><div><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">select TO_DATE(&#39;10123&#39;, &#39;yyyymmdd&#39;) from DUAL</pre>
</div></div><h2 id="id-4.FrequentlyOccurringErrorMessages-Literalsintheinputdonotmatchformatstring.(SQLCODE=-135224)"><br />Literals in the input do not match format string. (SQLCODE=-135224)</h2></div><p>This is the case when the date string entered in the data function and the date format do not match.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">select TO_DATE (&#39;2010123&#39;, &#39; yyyy-mmdd&#39;) from DUAL // Error in the yyyy-mm format</pre>
</div></div><h2 id="id-4.FrequentlyOccurringErrorMessages-Thetransactionisalreadyactive.(SQLCODE=-266311or-266312)">The transaction is already active. (SQLCODE=-266311 or -266312)</h2><div>Commit-mode can be adjusted for each session. In this process, this occurs when a transaction that has not been committed/rolled back exists and changes to Auto-Commit. Therefore, if an error occurs in the process of changing the properties of a session, first check whether a previously occurred transaction exists.</div><div>Or, change the session properties after executing Commit/Rollback. Occasionally, in the case of implementing and using a thread program and a connection pool, it may occur when user management for the connection object (ie, when AutoCommit/NonAutoCommit is used in combination) is careless.</div><h2 id="id-4.FrequentlyOccurringErrorMessages-Therowalreadyexistsinauniqueindex.(SQLCODE=-69720)">The row already exists in a unique index. (SQLCODE=-69720)</h2><div>This is the case when the value accessed or changed in the INSERT or UPDATE statement already exists in the primary key or unique index. In this case, check whether the corresponding data value already exists with an inquiry.</div><div><h2 id="id-4.FrequentlyOccurringErrorMessages-Unabletoinsert(orupdate)NULLintoNOTNULLcolumn.(SQLCODE=-200790)">Unable to insert (or update) NULL into NOT NULL column. (SQLCODE=- 200790)</h2></div></div></div><p>This is the case when the column is NOT NULL among the data values entered in the INSERT or UPDATE statement, and a NULL value is attempted to be inserted. Tract data values to prevent NULL data from occurring, or change the NOT NULL Constraints of the column properly.</p><h2 id="id-4.FrequentlyOccurringErrorMessages-Indicatorvariablerequiredbutnotsupplied.(SQLCODE=-331841or-594101or594103)">Indicator variable required but not supplied. (SQLCODE=-331841 or -594101 or 594103)</h2><p>This case is when the value contained in the host variable from the DB is NULL. This error is returned as SQL_SUCCESS_WITH_INFO. That is, it is an error that recognizes that the passed part is NULL. (There is no guarantee that the actual variable will contain any value.)</p><div>To solve this error, it can be solved by performing NVL processing on the column or using a separate int type indicator variable for host variables. Alternatively, the -unsafe_null option can be used among the apre options.</div></div><div><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">1) Compile with apre -unsafe_null.
 
2) SELECT NVL (Column,&#39;N/A&#39;) from T1.
 
3) How to use indicator variable
    EXEC SQL BEGIN  DECLARE SECTION;
      char  H_var [20 + 1];
      int    H_indi;
    EXEC SQL END DECLARE SECTION;
 
    EXEC SQL SELECT Column  INTO :H_var indicator :H_indi;</pre>
</div></div><h2 id="id-4.FrequentlyOccurringErrorMessages-Client&#39;squeryexceededintheexecutiontimelimitation.(SQLCODE=-4164)"><br />Client's query exceeded in the execution time limitation. (SQLCODE=-4164)</h2><p>If the time for executing a query exceeds the specified time, this error is returned for the query.</p><p>Check the execution plan of the query described in the document and take necessary tuning measures. Or, if it is due to the amount of data to be processed even though proper measures have already been taken, execute the following query.</p><p>EXEC SQL ALTER SESSION SET QUERY_TIMEOUT = 0;</p><p>If set to &quot;0&quot;, execution continues regardless of the timeout setting for query processing. However, if this has been done, it is recommended that the user make a careful decision to change, as it can occupy a large amount of resources until the query is completed.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">EXEC SQL ALTER SESSION SET QUERY_TIMEOUT = 0;</pre>
</div></div><h2 id="id-4.FrequentlyOccurringErrorMessages-Communicationlinkfailure.(SQLCODE=-331843or-331855)">Communication link failure. (SQLCODE=-331843 or -331855)</h2><div>This is the case when the connection is disconnected due to a server or network error in the process of processing a query. In this case, first, check whether a log related to timeout is recorded in $ALTIBASE_HOME/trc/altibase_boot.log. Usually, two cases occur.</div><div><p> </p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">[Notify : Fetch Timeout] Session Closed by Server : Session ID = 44
[Notify : UTrans Timeout] Session Closed by Server : Session ID = 44</pre>
</div></div><p>The fetch timeout means that the interval between the DBMS server and the program is limited to 60 seconds. If it exceeds this, the server forcibly disconnects the session.</p><p>The UTrans Timeout refers to a case where the interval of time that the user keeps without performing Commit/Rollback after a change transaction occurs is limited to 3600 seconds, and if it exceeds this, the session is disconnected. In both cases, the limit value can be changed as follows.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">EXEC SQL ALTER SESSION SET  FETCH_TIMEOUT = 0;
 
EXEC SQL ALTER SESSION SET UTRANS_TIMEOUT = 0;</pre>
</div></div><p>If it is set to a value of &quot;0&quot;, it operates so that the corresponding limit is not applied. However, it is recommended that, as in the case of QUERY_TIMEOUT, the developer must set the above problem at its source, since it will continue to occupy resources within the DBMS, and in some cases, failure can occur as long as the transaction continues.</p><p>Network problems such as L4, firewall timeout, etc. may cause the altibase_boot.log to be disconnected without errors. Therefore, the cause must be found with a separate PBT (Problem Tracking) process.</p><p> </p></div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 23, 2021 09:49</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
