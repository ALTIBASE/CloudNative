<!DOCTYPE html>
<html>
    <head>
        <title>FAQ(한국어) : 객체에 부여된 권한을 확인하는 방법</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">FAQ(한국어)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_6062093.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="05.-SQL_6520888.html">05. SQL</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            FAQ(한국어) : 객체에 부여된 권한을 확인하는 방법
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> Shin beum-su</span>, last modified on Jan 23, 2015
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <h1 id="id-객체에부여된권한을확인하는방법-개요">개요</h1><hr /><p>DB 유저간에는  객체에 대한 권한을 grant 구문을 사용하여 부여할 수 있습니다.   DB  전체에 부여된  DB 유저끼리의  객체권한의  관계를  쿼리를 사용하여 조회해 볼 수 있습니다.</p><p> </p><h1 id="id-객체에부여된권한을확인하는방법-대상버전">대상버전</h1><hr /><p>ALTIBASE HDB 4.3.9 이상  모든 버전에서 사용 가능합니다.</p><p> </p><h1 id="id-객체에부여된권한을확인하는방법-방법">방법</h1><hr /><p>아래의 쿼리로 조회가 가능합니다.</p><div class="preformatted panel" style="border-width: 1px;"><div class="preformattedContent panelContent">
<pre>SELECT a.user_name grantee,                                     -- 권한을 부여받은 유저
       c.user_name grantor,                                     -- 권한을 준 유저
       f.user_name object_owner,                                -- 객체의 소유자
       e.table_name object_name,                                -- 객체이름
       e.table_type object_type,                                -- 객체 종류
       replace(d.priv_name, &#39;_&#39;, &#39; &#39;) priv_name,                -- 부여 권한명
       decode(b.with_grant_option, 0, &#39;NO&#39;, &#39;YES&#39;) grantable    -- 해당 객체에 대한 권한 재부여 가능 여부
  FROM system_.sys_users_ a,
       system_.sys_grant_object_ b,
       system_.sys_users_ c,
       system_.sys_privileges_ d,
       system_.sys_tables_ e,
       system_.sys_users_ f
 WHERE c.user_name &lt;&gt; &#39;SYSTEM_&#39;
   and b.grantee_id = a.user_id
   and b.grantor_id = c.user_id
   and b.priv_id = d.priv_id
   and b.obj_id = e.table_id
   and e.user_id = f.user_id
 ORDER BY grantee,
       grantor,
       object_owner,
       object_type,
       object_name,
       priv_name ;
 </pre>
</div></div><div class="panel" style="border-width: 1px;"><div class="panelHeader" style="border-bottom-width: 1px;"><b>출력예시</b></div><div class="panelContent">
<p>iSQL&gt; create user user1 identified by user1;</p><p>iSQL&gt; create user user2 identified by user2;</p><p>iSQL&gt; connect user1/user1;</p><p>iSQL&gt; create table user1_t1 ( c1 integer );</p><p>iSQL&gt; grant select on user1_t1 to user2;</p><p>iSQL&gt; grant insert on user1_t1 to user2;</p><p> </p><p>GRANTEE        GRANTOR         OBJECT_OWNER         OBJECT_NAME         OBJECT_TYPE          PRIV_NAME      GRANTABLE <br />---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br />USER2               USER1              USER1                           USER1_T1                     T                              INSERT                   NO <br />USER2               USER1              USER1                           USER1_T1                     T                             SELECT                   NO <br />2 rows selected.</p>
</div></div>
                    </div>

                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 23, 2021 09:44</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
