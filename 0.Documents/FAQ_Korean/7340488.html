<!DOCTYPE html>
<html>
    <head>
        <title>FAQ(한국어) : Windows 용 모니터링 툴</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">FAQ(한국어)</a></span>
                            </li>
                                                    <li>
                                <span><a href="Home_6062093.html">Home</a></span>
                            </li>
                                                    <li>
                                <span><a href="6520890.html">08. 모니터링</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            FAQ(한국어) : Windows 용 모니터링 툴
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
        
    
        
    
            Created by <span class='author'> heejung lee</span>, last modified by <span class='editor'> richard.nahm	</span> on Mar 23, 2021
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1624409053464 {padding: 0px;}
div.rbtoc1624409053464 ul {list-style: disc;margin-left: 0px;}
div.rbtoc1624409053464 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1624409053464'>
<ul class='toc-indentation'>
<li><a href='#Windows용모니터링툴-개요'>개요</a></li>
<li><a href='#Windows용모니터링툴-적용버전'>적용 버전</a></li>
<li><a href='#Windows용모니터링툴-모니터링배치프로그램'>모니터링 배치 프로그램</a></li>
<li><a href='#Windows용모니터링툴-설정'>설정</a>
<ul class='toc-indentation'>
<li><a href='#Windows용모니터링툴-접속정보확인'>접속 정보 확인</a></li>
<li><a href='#Windows용모니터링툴-모니터링항목추가'>모니터링 항목 추가</a></li>
<li><a href='#Windows용모니터링툴-모니터링주기'>모니터링 주기</a></li>
<li><a href='#Windows용모니터링툴-지난로그삭제기능'>지난 로그 삭제 기능</a></li>
<li><a href='#Windows용모니터링툴-altimon.vbs파일수정'>altimon.vbs 파일 수정</a></li>
</ul>
</li>
<li><a href='#Windows용모니터링툴-실행'>실행</a>
<ul class='toc-indentation'>
<li><a href='#Windows용모니터링툴-포그라운드(foreground)로실행하는방법'>포그라운드(foreground)로 실행하는 방법</a></li>
<li><a href='#Windows용모니터링툴-백그라운드(background)로실행하는방법'>백그라운드(background)로 실행하는 방법</a></li>
</ul>
</li>
<li><a href='#Windows용모니터링툴-종료'>종료</a>
<ul class='toc-indentation'>
<li><a href='#Windows용모니터링툴-포그라운드로실행했을경우'>포그라운드로 실행했을 경우</a></li>
<li><a href='#Windows용모니터링툴-백그라운드로실행했을경우'>백그라운드로 실행했을 경우</a></li>
</ul>
</li>
<li><a href='#Windows용모니터링툴-로그'>로그</a></li>
</ul>
</div></p><h1 id="Windows용모니터링툴-개요">개요</h1><p>Windows 용 모니터링 툴입니다.</p><h1 id="Windows용모니터링툴-적용버전">적용 버전</h1><ul><li>이 툴은 ALTIBASE HDB 6.3.1 을 기준으로 작성 되었습니다.</li><li>ALTIBASE HDB 5, ALTIBASE HDB 6 모두 사용할 수 있으나 일부 모니터링 항목에서 결과 오류가 발생할 수 있습니다.</li><li>필요한 경우 <a href="http://support.altibase.com/kr/" class="external-link" rel="nofollow">http://support.altibase.com/kr/</a> 또는 이 페이지에 댓글로 요청 글 남겨주세요.</li></ul><h1 id="Windows용모니터링툴-모니터링배치프로그램">모니터링 배치 프로그램</h1><p>아래 압축 파일을 다운로드 하여 임의 폴더에 올려놓은 다음 압축을 풀어주세요.</p><ul><li><a href="attachments/7340488/7766023.zip">altimon_for_windows.zip</a></li></ul><p>압축을 풀면 두 개의 폴더와 두 개의 파일이 있습니다.</p><ul><li><a href="attachments/7340488/7766022.bat">altimon.bat</a> : 모니터링을 위한 배치 프로그램</li><li><a href="attachments/7340488/7766021.vbs">altimon.vbs</a> : 배치 프로그램을 백그라운드로 실행 시키기 위한 VB 파일</li><li>ALTIMON_SCRIPT 폴더 : 모니터링 쿼리를 담고 있는 .sql 파일들이 존재</li><li>ALTIMON_LOG 폴더 : 로그 파일 저장</li></ul><h1 id="Windows용모니터링툴-설정">설정</h1><h2 id="Windows용모니터링툴-접속정보확인">접속 정보 확인</h2><p>altimon.bat 파일에서 ALTIBASE HDB  서버 접속 명령어 부분을 환경에 맞게 변경합니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">set ISQL=&quot;%ALTIBASE_HOME%\bin\isql.exe&quot; -s localhost -u sys -p manager -silent</pre>
</div></div><h2 id="Windows용모니터링툴-모니터링항목추가">모니터링 항목 추가</h2><p>기본 모니터링 항목 외에 추가하고 싶은 항목이 있다면 ALTIMON_SCRIPT 폴더에 있는 all.sql 파일에 모니터링 쿼리를 추가하세요.</p><p>모니터링 쿼리에서 SELECT 절의 첫 번째 컬럼은 sysdate 를, 두 번째 컬럼은 _MON_ 로 시작하는 식별자를 넣어주세요.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>모니터링 쿼리 예</b></div><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: sql; gutter: false" style="font-size:12px;">SELECT TO_CHAR(SYSDATE, &#39;HH:MI:SS&#39;) TIME, &#39;_MON_REP_GAP&#39;
     , REP_NAME
     , REP_SN
     , REP_GAP
  FROM V$REPGAP
 ORDER BY REP_NAME, REP_GAP;</pre>
</div></div><h2 id="Windows용모니터링툴-모니터링주기">모니터링 주기</h2><p>altimon.bat 에서 마지막 부분, 아래 명령어에서 -n 뒤에 숫자를 변경해주세요. 이 숫자는 모니터링 주기를 의미 합니다.<br /> 초 단위로 환경에 맞게 수정합니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: java; gutter: false" style="font-size:12px;">ping -n 60 127.0.0.1 &gt; nul
</pre>
</div></div><p>예) 5분으로 설정할 경우 -n 60 을 -n 300 으로</p><h2 id="Windows용모니터링툴-지난로그삭제기능">지난 로그 삭제 기능</h2><p>altimon.bat 파일 아래 부분에 forfiles 로 시작하는 명령어가 있습니다.<br /> 이 명령어에서 /D -30 옵션이 30일 전 로그를 삭제하라는 의미이니, /D 옵션 뒤 숫자를 변경합니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: plain; gutter: false" style="font-size:12px;">forfiles /P . /M mon.log* /D -30 /C &quot;cmd /c del @file&quot;
</pre>
</div></div><h2 id="Windows용모니터링툴-altimon.vbs파일수정">altimon.vbs 파일 수정</h2><p>위 파일들을 다운로드 후 모니터링 할 서버의 임의 폴더에 올려주세요.</p><p>그리고 altimon.vbs 파일에서 두 번째 라인의 경로를 환경에 맞게 수정해줍니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">Set WshShell = CreateObject(&quot;WScript.Shell&quot;)
WshShell.Run chr(34) &amp; &quot;C:\Users\Altibase\Desktop\altimon.bat&quot; &amp; Chr(34), 0
Set WshShell = Nothing
</pre>
</div></div><h1 id="Windows용모니터링툴-실행">실행</h1><h2 id="Windows용모니터링툴-포그라운드(foreground)로실행하는방법">포그라운드(foreground)로 실행하는 방법</h2><p>윈도우즈의 명령 프롬프트(실행 창) 을 실행합니다. altimon.bat 파일이 위치한 폴더로 이동하고 배치 프로그램을 실행합니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>새 창에서 실행시키고 싶은 경우</b></div><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">C:\Users\Altibase&gt;start altimon.bat
또는
C:\Users\Altibase&gt;start altimon</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>현재 창에서 실행시키고 싶을 때</b></div><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: bash; gutter: false" style="font-size:12px;">C:\Users\Altibase&gt;altimon.bat
또는
C:\Users\Altibase&gt;altimon</pre>
</div></div><p>윈도우 탐색기에서 배치 프로그램(altimon.bat) 이 위치한 폴더로 이동하고 alti_mon.bat 파일을 더블 클릭해도 됩니다.</p><p>포그라운드로 배치 프로그램을 실행시키면, 실행 창에 아래와 같이 알림 메시지가 뜹니다.<br /> <img class="confluence-embedded-image confluence-content-image-border" src="attachments/7340488/7766024.jpg" data-image-src="attachments/7340488/7766024.jpg"></p>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>포그라운드로 실행한 배치 프로그램은 열린 창을 닫으면 배치 프로그램이 종료됩니다.</p>
                    </div>
    </div>
<h2 id="Windows용모니터링툴-백그라운드(background)로실행하는방법">백그라운드(background)로 실행하는 방법</h2><p>첨부된 파일들을 같은 폴더에 넣고 도스 창을 열어 해당 폴더로 이동 후 아래 명령어 수행합니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: plain; gutter: false" style="font-size:12px;">C&gt; alti_mon.vbs
</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>수행 예</b></div><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: plain; gutter: false" style="font-size:12px;">C:\Users\Altibase\Desktop&gt;alti_mon.vbs
Microsoft (R) Windows Script Host 버전 5.8
Copyright (C) Microsoft Corporation 1996-2001. All rights reserved.
</pre>
</div></div>    <div class="aui-message warning shadowed information-macro">
                            <span class="aui-icon icon-warning">Icon</span>
                <div class="message-content">
                            <p>백그라운드로 실행한 배치 프로그램은 열린 창을 닫아도 배치 프로그램이 종료되지 않습니다. 종료하려면 taskkill 명령어를 이용해야 합니다. 종료 부분을 참고하세요.</p>
                    </div>
    </div>
<h1 id="Windows용모니터링툴-종료">종료</h1><h2 id="Windows용모니터링툴-포그라운드로실행했을경우">포그라운드로 실행했을 경우</h2><p>배치 프로그램(altimon.bat)을 실행 한 실행 창을 닫거나 Ctrl+c 를 누릅니다.</p><h2 id="Windows용모니터링툴-백그라운드로실행했을경우">백그라운드로 실행했을 경우</h2><p>윈도우즈의 명령 프롬프트(실행 창)  실행하고 아래 명령어 수행합니다.</p><div class="code panel pdl" style="border-width: 1px;"><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: plain; gutter: false" style="font-size:12px;">C&gt; taskkill /fi &quot;windowtitle eq ALTIMON FOR WINDOWS&quot;
</pre>
</div></div><div class="code panel pdl" style="border-width: 1px;"><div class="codeHeader panelHeader pdl" style="border-bottom-width: 1px;"><b>수행 예</b></div><div class="codeContent panelContent pdl">
<pre class="theme: Confluence; brush: plain; gutter: false" style="font-size:12px;">C:\Users\Altibase\Desktop&gt;taskkill /fi &quot;windowtitle eq ALTIMON FOR WINDOWS&quot;
성공: 프로세스(PID 8216)에 종료 신호를 보냈습니다
</pre>
</div></div><h1 id="Windows용모니터링툴-로그">로그</h1><p>배치 프로그램을 수행하면 ALTIMON_LOG 라는 폴더 아래에 mon.log.YYYY-MM-DD 형태의 로그 파일이 생성됩니다.</p>
                    </div>

                                        <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7340488/7766021.vbs">altimon.vbs</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7340488/7766022.bat">altimon.bat</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7340488/7766023.zip">altimon_for_windows.zip</a> (application/download)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7340488/7766024.jpg">altimon_for_windows.jpg</a> (image/jpeg)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7340488/7766025.vbs">alti_mon.vbs</a> (application/octet-stream)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/7340488/7766026.bat">alti_mon.bat</a> (application/octet-stream)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Jun 23, 2021 09:44</p>
                    <div id="footer-logo"><a href="http://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
